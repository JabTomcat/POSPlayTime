
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>POS PlayTime â€“ Admin</title>

  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="assets/icons/icon-192.png" sizes="192x192" type="image/png" />
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png" />

  <link rel="stylesheet" href="styles.css" />
  <script defer src="admin-v4.js"></script>
</head>
<body>
  <header class="app-header">
    <h1 aria-label="Admin">âš™ï¸ Admin</h1>
    <div class="header-actions">
      <button id="backBtn" class="secondary">ğŸ  Back to POS</button>
      <button id="lockBtn" class="secondary">ğŸ”’ Lock</button>
      <button id="setPassBtn" class="secondary">ğŸ” Set Passcode</button>
    </div>
  </header>

  <main class="layout" style="grid-template-columns: 1fr;">
    <section class="cart">
      <h2>Items</h2>
      <p>Manage items locally. Changes are saved on this device and appear in POS after reload.</p>

      <div style="display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin-bottom: 12px;">
        <div>
          <label>Icon</label>
          <input type="text" id="emojiInput" placeholder="ğŸ”" maxlength="2" style="width:100%; padding:10px;">
        </div>
        <div>
          <label>Name</label>
          <input type="text" id="nameInput" placeholder="Burger" style="width:100%; padding:10px;">
        </div>
        <div>
          <label>Category</label>
          <input type="text" id="categoryInput" placeholder="Mains" style="width:100%; padding:10px;">
        </div>
        <div>
          <label>Price</label>
          <input type="number" id="priceInput" placeholder="6.00" min="0" step="0.01" style="width:100%; padding:10px;">
        </div>
      </div>

      <div class="cart-actions">
        <button id="addItemBtn" class="primary">Add Item</button>
        <button id="saveItemBtn" class="secondary" disabled>Save Changes</button>
        <button id="cancelEditBtn" class="secondary" disabled>Cancel Edit</button>
      </div>

      <hr style="margin:12px 0;">

      <div id="itemsList" class="history-list" style="max-height:none;"></div>

      <div class="cart-actions" style="justify-content:flex-end;">
        <input type="file" id="importFile" accept="application/json" style="display:none;" />
        <button id="exportItemsBtn" class="secondary">Export Items JSON</button>
        <button id="importItemsBtn" class="secondary">Import Items JSON</button>
        <button id="resetItemsBtn" class="danger">Reset to Defaults</button>
      </div>
    </section>
  </main>

  <!-- Set Passcode dialog -->
  <dialog id="setPassDialog">
    <form method="dialog" class="admin-passcode">
      <h3>Set Admin Passcode</h3>
      <p>Enter a new passcode (numbers recommended).</p>
      <input
        id="newPassInput"
        type="password"
        inputmode="numeric"
        pattern="[0-9]*"
        maxlength="6"
        placeholder="â€¢â€¢â€¢â€¢"
        aria-label="New admin passcode" />
      <div class="cart-actions">
        <button id="cancelSetPassBtn" class="secondary" type="button">Cancel</button>
        <button id="saveSetPassBtn" class="primary" type="button">Save</button>
      </div>
      <p class="hint">Tip: 4â€“6 digits is perfect for quick unlocking.</p>
    </form>
   </dialog>
</body>
